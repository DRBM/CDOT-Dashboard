<!DOCTYPE html>
<html>
  <head>
    <title>What's happening @ CDOT</title>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/widget.css">
    <link rel="stylesheet" type="text/css" href="css/CDOTFeed.css">
    <script src="fakejs/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="fakejs/jsapi"></script>
    <script src="fakejs/gfdynamicfeedcontrol.js" type="text/javascript"></script>   
    <script src="dashBoard.js" type="text/javascript"></script>
    <script src="milestone.js" type="text/javascript"></script>
    <script src="sequencer.js" type="text/javascript"></script>
    <script src="Widgets/chart.js"></script>
    <script src="Widgets/lighthouse.js" type="text/javascript"></script>
    <script src="Widgets/clockWidget.js" type="text/javascript"></script>
    <script src="Widgets/fedoraBuildWidget.js" type="text/javascript"></script>
    <script src="Widgets/dateWidget.js" type="text/javascript"></script>
    <script src="Widgets/twitterWidget.js" type="text/javascript"></script>
    <script src="Widgets/fedoraBuildWidget.js" type="text/javascript"></script>
    <script src="Widgets/blogReaderWidget.js" type="text/javascript"></script>
    <script type="text/javascript" src="Widgets/github.js"></script>
    <script type="text/javascript">
    (function() {
          var ready = false;
          
          // Doing Google stuff here because it wasn't working properly inside the lighthouse script
          google.load('visualization', '1', {'packages':['corechart']});
          google.load( "feeds", "1");

          google.setOnLoadCallback(function(){ ready = true; });

          
          document.addEventListener( "DOMContentLoaded", function(){ check(); }, false );
          
          var check = function(){
            if(ready){
              dashBoard.twitterWidget("twitterpopproc", {
                  refreshInterval: 500000,
                  displayInterval: 15000,
                  results: 25,
                  mode: "search",
                  query: "#popcornjs OR #processingjs",
                  image: false
              });
            }
            else{
              setTimeout( check, 10 );
            }
          }

          document.addEventListener( "DOMContentLoaded", function() {

          dashBoard.fedoraBuildWidget("fedoraBuild", { 
            
          });

        }, false );
      })();
    </script>
    <script type="text/javascript">
      // TODO: set refresh time
      $( function() {
        dashBoard.githubWidget("processingGithubCommits", {
          userId: "annasob",
          projectName: "processing-js",
          branchName: "master",
        });
        dashBoard.githubWidget("popcornGithubCommits", {
          userId: "annasob",
          projectName: "popcorn-js",
          branchName: "master",
        });
      });
    </script>
    <script>
      (function() {
    
    
      var ready = false;
    
      // Doing Google stuff here because it wasn't working properly inside the lighthouse script
      google.load('visualization', '1', {'packages':['corechart']});
          
      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(function(){ ready = true; });
    
      document.addEventListener( "DOMContentLoaded", function(){ check(); }, false );
    
      var check = function(){
      if(ready){
    
              dashBoard.lighthouseWidget( "lighthouse-popcorn", {
          project: "Popcorn",
                milestone: 7,
          time: true
              })
        .lighthouseWidget( "lighthouse-processing", {
          project: "Processing",
                milestone: 0,
          time: true
              })
				.clockWidget("Toronto Time", { cssClass: "widget-time" })
				.clockWidget("Mountain Time", { cssClass: "widget-time", timeZone: "Mountain" })
				.dateWidget("Toronto Date", { cssClass: "widget-date" })
				.dateWidget("Mountain Date", { cssClass: "widget-date", timeZone: "Mountain" });
      }
      else{
      setTimeout( check, 100 );
      }
      }
      })();
    </script>
  </head>
  <body>
    <div id="container">
      <!-- Top Row -->
      <div class="widget widget-size-1x1" style="top: 0px; left: 0px;">
        <header>
          <section>CDOT</section>
        </header>
        <div class="widget-body logo-box" style="background: url('assets/cdot.png') no-repeat 50% 50%"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 240px;">
        <header>
          <section>Mountain View</section>
        </header>
        <section id="Mountain Time" class="widget-time">
          <span class="t-size-x60" id="pacific-time">12:10</span>
          <span class="t-size-x30" id="pacific-time-meridian">PM</span>
        </section>
        <section class="widget-body">
          <div id="Mountain Date" class="widget-date">
            <div class="t-size-x24 t-muted-more" id="pacific-dow">Monday</div>
            <div class="t-size-x24 t-muted" id="pacific-date">9 May 2011</div>
          </div>
        </section>
      </div>
      <div class="widget widget-size-3x1 t-size-x80" style="top: 0px; left: 480px; text-align: center;">
        CDOT Dashboard
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 1200px;">
        <header>
          <section>Toronto</section>
        </header>
        <section id="Toronto Time" class="widget-time">
          <span class="t-size-x60" id="eastern-time">12:10</span>
          <span class="t-size-x30" id="eastern-time-meridian">PM</span>
        </section>
        <section class="widget-body">
          <div id="Toronto Date" class="widget-date">
            <div class="t-size-x24 t-muted-more" id="eastern-dow">Monday</div>
            <div class="t-size-x24 t-muted" id="eastern-date">9 May 2011</div>
          </div>
        </section>
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 1440px;">
        <header>
          <section>Fedora</section>
        </header>
        <div class="widget-body logo-box" style="background: url('assets/fedora.png') no-repeat 50% 50%"></div>
      </div>
      
      <!-- Twitter Row -->
      <div class="widget widget-size-max-x" style="top: 240px; left: 0px;">
        <div id="twitterpopproc" class="twitter"></div>
      </div>
      
      <!-- Middle Row -->
      <div class="widget widget-size-1x2" style="top: 330px; left: 0px;">
        <header>
          <section>Planet CDOT</section>
        </header>
        <div id="blogFeed" style="width: 100%; height: 430px" class="widget-body t-size-x24">
          <div id="_feed">
          <div class="gfg-root">
            <div class="gfg-entry">
              <div class="gf-result" style="top: 0px">
                <div class="gf-title">
                  <a href="http://fossjon.wordpress.com/2011/05/15/simple-rss-application-for-os-x/" class="gf-title" target="_blank">Simple RSS Application For OS X</a>
                </div>
                <div class="gf-author">by fossjon</div>
                <div class="gf-spacer">-</div>
                <div class="gf-relativePublishedDate">May 13, 2011</div>
                <div class="gf-snippet">Here's an application I created for OS X which grabs new stories/articles that are posted to slashdot and reddit front pages ...</div>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
      <div class="widget widget-size-2x2" style="top: 330px; left: 240px">
        <header>
          <section>Processing.js commits</section>
        </header>
        <div id="processingGithubCommits" class="github widget-body t-size-x18"></div>
      </div>
      <div  class="widget widget-size-2x2" style="top: 330px; left: 720px;">
        <header>
          <section>Popcorn.js commits</section>
        </header>
        <div id="popcornGithubCommits" class="github widget-body t-size-x18"></div>
      </div>
      <div class="widget widget-size-2x2" style="top: 330px; left: 1200px;">
        <header>
          <section>Fedora ARM Build Status</section>
        </header>
        <div id="fedoraBuild" class="widget-body fedora-build t-size-x18"></div>
      </div>
      
      <!-- Bottom Row -->
      <div class="widget widget-size-1x1" style="top: 810px; left: 0px;">
        <header>
          <section>Processing.js</section>
        </header>
        <div class="widget-body logo-box" style="background: url('assets/processingjs.png') no-repeat 50% 50%"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 240px;">
        <header>
          <section>PJS Tickets</section>
        </header>
        <div id="lighthouse-processing" class="widget-body lighthouse t-size-x18"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 480px;">
        <header>
          <section>PJS Milestones</section>
        </header>
        <div id="chart-processing" class="widget-body">
          <img src="fakedata/j.png">
        </div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 720px;">
        <header>
          <section>Popcorn Tickets</section>
        </header>
        <div id="lighthouse-popcorn" class="widget-body lighthouse t-size-x18"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 960px;">
        <header>
          <section>Popcorn Milestones</section>
        </header>
        <div id="chart-popcorn" class="widget-body">
          <img src="fakedata/k.png">
        </div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 1200px;">
        <header>
          <section>Under construction</section>
        </header>
        <div class="widget-body logo-box"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 1440px;">
        <header>
          <section>Popcorn.js</section>
        </header>
        <div class="widget-body logo-box" style="background: url('assets/popcornjs.png') no-repeat 50% 50%"></div>
      </div>
    </div>
  </body>
</html>
