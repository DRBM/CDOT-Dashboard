<!DOCTYPE html>
<html>
  <head>
    <title>What's happening @ CDOT</title>
    
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/widget.css">
    <link rel="stylesheet" type="text/css" href="css/fedoraBuildCSS.css">
    <link rel="stylesheet" type="text/css" href="css/CDOTFeed.css" ></link>
    <link rel="stylesheet" type="text/css" href="Widgets/githubWidgetStyles.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="http://www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.js" type="text/javascript"></script>   
    <script src="dashBoard.js" type="text/javascript"></script>
		<script src="milestone.js" type="text/javascript"></script>
		<script src="sequencer.js" type="text/javascript"></script>
		<script src="Widgets/lighthouse.js" type="text/javascript"></script>
    <script src="Widgets/clockWidget.js" type="text/javascript"></script>
    <script src="Widgets/fedoraBuildWidget.js" type="text/javascript"></script>
    <script src="Widgets/dateWidget.js" type="text/javascript"></script>
    <script src="Widgets/twitterWidget.js" type="text/javascript"></script>
    <script src="Widgets/fedoraBuildWidget.js" type="text/javascript"></script>
    <script src="Widgets/blogReaderWidget.js" type="text/javascript"></script>
    <script type="text/javascript" src="Widgets/github.js"></script>
    <script type="text/javascript">
    (function() {
					var ready = false;
					
					// Doing Google stuff here because it wasn't working properly inside the lighthouse script
					google.load('visualization', '1', {'packages':['corechart']});
          google.load( "feeds", "1");

					google.setOnLoadCallback(function(){ ready = true; });
					
					document.addEventListener( "DOMContentLoaded", function(){ check(); }, false );
					
					var check = function(){
						if(ready){
							dashBoard.twitterWidget("twitterpopproc", {
									cssClass: "twitter",
									refreshInterval: 500000,
									results: 5,
									mode: "search",
									showUser: "true",
									query: "#popcornjs OR #processingjs",
									headerType: "h2"
							}).blogReaderWidget({
                  target: "blogFeed",
                  url: "http://zenit.senecac.on.ca/~chris.tyler/planet/atom.xml",
                  title: "Planet CDOT",
                  orientation: "Vertical"
              });
						}
						else{
							setTimeout( check, 10 );
						}
					}

          document.addEventListener( "DOMContentLoaded", function() {

          dashBoard.fedoraBuildWidget("fedoraBuild", { 
            cssClass    : "testClass", 
            border      : "0", 
            height      : "430px", 
            width       : "470px",
            cellSpacing : "-1"
          });

        }, false );
      })();
    </script>
    <script type="text/javascript">
      // TODO: set refresh time
      $( function() {
        dashBoard.githubWidget("processingGithubCommits", {
	        userId: "annasob",
	        projectName: "processing-js",
	        branchName: "master",
	        callback: function() {
	        dashBoard.sequence( "processingGithubCommits", {
	        duration: 5
	        // have a callback in sequencer to pass in our own animations
	        });
	        }
        });
        dashBoard.githubWidget("popcornGithubCommits", {
          userId: "annasob",
          projectName: "popcorn-js",
          branchName: "master",
          callback: function() {
            dashBoard.sequence( "popcornGithubCommits", {
              duration: 5
              // have a callback in sequencer to pass in our own animations
            });
          }
        });
      });
		</script>
  </head>
  <body>
    <div id="container">
      <!-- Top Row -->
      <div class="widget widget-size-1x1" style="top: 0px; left: 0px;">
        <div class="widget-body logo-box" style="background: url('assets/cdot.png') no-repeat 50% 50%"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 240px;">
        <header>
          <section>Mountain View</section>
        </header>
        <section class="widget-time">
          <span class="t-size-x60" id="pacific-time">12:10</span>
          <span class="t-size-x30" id="pacific-time-meridian">PM</span>
        </section>
        <section class="widget-body">
          <div class="widget-date">
            <div class="t-size-x24" id="pacific-dow">Monday</div>
            <div class="t-size-x24 t-muted" id="pacific-date">9 May 2011</div>
          </div>
        </section>
      </div>
      <div class="widget widget-size-3x1" style="top: 0px; left: 480px;">
        Title
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 1200px;">
        <header>
          <section>Toronto</section>
        </header>
        <section class="widget-time">
          <span class="t-size-x60" id="eastern-time">12:10</span>
          <span class="t-size-x30" id="eastern-time-meridian">PM</span>
        </section>
        <section class="widget-body">
          <div class="widget-date">
            <div class="t-size-x24" id="eastern-dow">Monday</div>
            <div class="t-size-x24 t-muted" id="eastern-date">9 May 2011</div>
          </div>
        </section>
      </div>
      <div class="widget widget-size-1x1" style="top: 0px; left: 1440px;">
        <div class="widget-body logo-box" style="background: url('assets/fedora.png') no-repeat 50% 50%"></div>
      </div>
      
      <!-- Twitter Row -->
      <div id = "twitterpopproc" class="widget widget-size-max-x" style="top: 240px; left: 0px;">
        Twitter
      </div>
      
      <!-- Middle Row -->
      <div class="widget widget-size-1x2" style="top: 330px; left: 0px;">
        Planet CDOT RSS Feed
        <div id="blogFeed" style="width: 100%; height: 430px"></div>
      </div>
      <div id="processingGithubCommits" class="widget widget-size-2x2" style="top: 330px; left: 240px">
				Processing.js
			</div>
			<div id="popcornGithubCommits" class="widget widget-size-2x2" style="top: 330px; left: 720px;">
				Popcorn.js
			</div>
      <div class="widget widget-size-2x2" style="top: 330px; left: 1200px; text-align: center;">
        Fedora ARM Build
      <div id="fedoraBuild"></div>
      </div>
      
      <!-- Bottom Row -->
      <div class="widget widget-size-1x1" style="top: 810px; left: 0px;">
        <div class="widget-body logo-box" style="background: url('assets/processingjs.png') no-repeat 50% 50%"></div>
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 240px;">
        Processing.js tickets open/closed on latest milestone
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 480px;">
        Graph of Processing.js open/closed tickets
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 720px;">
        Popcorn.js tickets open/closed on latest milestone
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 960px;">
        Graph of Popcorn.js open/closed tickets
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 1200px;">
        Graph of failed/complete/in-progress/cancelled Fedora ARM builds
      </div>
      <div class="widget widget-size-1x1" style="top: 810px; left: 1440px;">
        <div class="widget-body logo-box" style="background: url('assets/popcornjs.png') no-repeat 50% 50%"></div>
      </div>
    </div>
  </body>
</html>
